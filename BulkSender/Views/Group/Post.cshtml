@model BulkSender.Entity.Group

<form id="form1" method="post" action="/Group/Post?id=@Model.Id" onsubmit="SubmitForm(this);return false">
	<div class="col-lg-12">
		<h3 class="modal_title" style="margin-top: 5px">@ViewBag.Title</h3>
		<div class="form-group">
			<label>Grup Adı</label>
			@Html.TextBoxFor(x => x.Name, new { @class = "form-control validate"})
			@Html.ValidationMessageFor(x => x.Name)
		</div>
		<div class="form-group">
			<label>Açıklaması</label>
			@Html.TextAreaFor(x => x.Description, new { @class = "form-control" })
		</div>
		<div class="form-group">
			<button type="submit" class="btn btn-success">Kaydet</button>
		</div>
	</div>
</form>

<script src="/Content/js/jquery.validate.js"></script>
<script src="/Content/js/jquery.validate.unobtrusive.js"></script>

<script type="text/javascript">

	function SubmitForm(elem) {
		if ($("#form1").valid()) {
			var data = SubmitFormAction(elem);
			if (data == null) {
				$("#Name").next().html("İşlem Yapılamadı");
			}
			if (data.json.result == 1)
				document.location.reload();
			else
				$("#Name").next().html(data.json.message);
		}
		return true;
	}

</script>
